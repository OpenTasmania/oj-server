import{u as Z}from"./build-Cm012HNm.js";import{_ as j}from"./index-PO42XuGs.js";import{r as x,i as P,d as l,o as s,e,F as D,m as z,n as k,f as _,t as i,y as R,h as S,k as V,l as U,q as J,g as G,A as W}from"./vendor-kN0nZHKs.js";import{u as Y}from"./useWebSocket-xP0JVSl3.js";const Q={class:"build-type-selector"},X={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},ee=["onClick"],te={class:"absolute top-4 right-4"},se={key:0,class:"w-2 h-2 bg-white rounded-full"},le={key:0,class:"absolute top-2 left-2 bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full"},ae={class:"relative"},ie={class:"flex items-start space-x-4"},ne={class:"text-3xl"},re={class:"flex-1"},oe={class:"text-lg font-semibold text-gray-900 mb-1"},de={class:"text-gray-600 mb-4"},ue={class:"space-y-2 text-sm"},ce={class:"flex justify-between"},me={class:"font-medium text-gray-900"},pe={class:"flex justify-between"},ve={class:"font-medium text-gray-900"},ge={class:"flex justify-between"},fe={class:"font-medium text-gray-900"},xe={class:"flex justify-between"},ye={class:"font-medium text-gray-900"},be={key:0,class:"card p-6"},he={class:"text-lg font-semibold text-gray-900 mb-4"},_e={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},we={class:"space-y-2"},ke={class:"space-y-2"},Be={class:"mt-6 p-4 bg-gray-50 rounded-lg"},$e={class:"text-sm text-gray-600 space-y-1"},Se={key:1,class:"card p-8 text-center"},Ce={__name:"BuildTypeSelector",props:{selected:{type:String,default:""}},emits:["select"],setup(B,{emit:$}){const g=B,y=$,b=x([{id:"amd64",name:"AMD64 Installer",description:"Debian installer package for x86_64 architecture",icon:"ðŸ’»",platform:"Linux x86_64",outputFormat:"ISO Image",estimatedTime:"15-20 minutes",estimatedSize:"2.1 GB",requirements:["Docker environment","At least 4GB RAM","10GB free disk space"],features:["Live installer environment","Automated partitioning","Network configuration","Package pre-installation"],recommended:!0},{id:"rpi64",name:"Raspberry Pi 64-bit",description:"Custom image for Raspberry Pi 4/5 (64-bit)",icon:"ðŸ¥§",platform:"ARM64 (Raspberry Pi)",outputFormat:"IMG File",estimatedTime:"25-30 minutes",estimatedSize:"1.8 GB",requirements:["Docker with ARM emulation","At least 6GB RAM","15GB free disk space"],features:["Pre-configured for Pi hardware","GPIO support enabled","Optimized kernel","Hardware acceleration"],recommended:!1},{id:"docker",name:"Docker Images",description:"Multi-architecture Docker container images",icon:"ðŸ³",platform:"Multi-platform",outputFormat:"Docker Images",estimatedTime:"10-15 minutes",estimatedSize:"800 MB",requirements:["Docker BuildKit","At least 2GB RAM","5GB free disk space"],features:["Multi-stage builds","Optimized layers","Security scanning","Multi-arch support"],recommended:!1},{id:"kubernetes",name:"Kubernetes Manifests",description:"Complete Kubernetes deployment package",icon:"â˜¸ï¸",platform:"Kubernetes",outputFormat:"YAML Manifests",estimatedTime:"5-8 minutes",estimatedSize:"50 MB",requirements:["Kubernetes cluster access","kubectl configured","Helm 3.x installed"],features:["Helm charts included","ConfigMaps and Secrets","Service definitions","Ingress configuration"],recommended:!1}]),n=P(()=>b.value.find(d=>d.id===g.selected)),w=d=>{y("select",d.id)},c=d=>{const t="border-2 rounded-lg p-6 cursor-pointer transition-all duration-200 hover:shadow-md";return g.selected===d.id?`${t} border-primary-500 bg-primary-50`:`${t} border-gray-200 hover:border-gray-300`};return(d,t)=>(s(),l("div",Q,[t[16]||(t[16]=e("div",{class:"mb-6"},[e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"Select Build Type"),e("p",{class:"text-gray-600"}," Choose the type of build you want to create. Each build type is optimized for different deployment scenarios. ")],-1)),e("div",X,[(s(!0),l(D,null,z(b.value,u=>(s(),l("div",{key:u.id,class:k(c(u)),onClick:I=>w(u)},[e("div",te,[e("div",{class:k(["w-5 h-5 rounded-full border-2 flex items-center justify-center",{"border-primary-500 bg-primary-500":B.selected===u.id,"border-gray-300":B.selected!==u.id}])},[B.selected===u.id?(s(),l("div",se)):_("",!0)],2)]),u.recommended?(s(),l("div",le," Recommended ")):_("",!0),e("div",ae,[e("div",ie,[e("div",ne,i(u.icon),1),e("div",re,[e("h4",oe,i(u.name),1),e("p",de,i(u.description),1),e("div",ue,[e("div",ce,[t[0]||(t[0]=e("span",{class:"text-gray-500"},"Platform:",-1)),e("span",me,i(u.platform),1)]),e("div",pe,[t[1]||(t[1]=e("span",{class:"text-gray-500"},"Output:",-1)),e("span",ve,i(u.outputFormat),1)]),e("div",ge,[t[2]||(t[2]=e("span",{class:"text-gray-500"},"Build Time:",-1)),e("span",fe,i(u.estimatedTime),1)]),e("div",xe,[t[3]||(t[3]=e("span",{class:"text-gray-500"},"Size:",-1)),e("span",ye,i(u.estimatedSize),1)])])])])])],10,ee))),128))]),n.value?(s(),l("div",be,[e("h4",he,i(n.value.name)+" - Build Details ",1),e("div",_e,[e("div",null,[t[5]||(t[5]=e("h5",{class:"font-medium text-gray-900 mb-3"},"Requirements",-1)),e("ul",we,[(s(!0),l(D,null,z(n.value.requirements,u=>(s(),l("li",{key:u,class:"flex items-center text-sm text-gray-600"},[t[4]||(t[4]=e("svg",{class:"w-4 h-4 text-blue-500 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),S(" "+i(u),1)]))),128))])]),e("div",null,[t[7]||(t[7]=e("h5",{class:"font-medium text-gray-900 mb-3"},"Features",-1)),e("ul",ke,[(s(!0),l(D,null,z(n.value.features,u=>(s(),l("li",{key:u,class:"flex items-center text-sm text-gray-600"},[t[6]||(t[6]=e("svg",{class:"w-4 h-4 text-green-500 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)),S(" "+i(u),1)]))),128))])])]),e("div",Be,[t[13]||(t[13]=e("h6",{class:"font-medium text-gray-900 mb-2"},"Build Configuration",-1)),e("div",$e,[e("div",null,[t[8]||(t[8]=e("strong",null,"Build Type:",-1)),S(" "+i(n.value.id),1)]),e("div",null,[t[9]||(t[9]=e("strong",null,"Target Platform:",-1)),S(" "+i(n.value.platform),1)]),e("div",null,[t[10]||(t[10]=e("strong",null,"Expected Output:",-1)),S(" "+i(n.value.outputFormat),1)]),e("div",null,[t[11]||(t[11]=e("strong",null,"Estimated Duration:",-1)),S(" "+i(n.value.estimatedTime),1)]),e("div",null,[t[12]||(t[12]=e("strong",null,"Estimated Size:",-1)),S(" "+i(n.value.estimatedSize),1)])])]),t[14]||(t[14]=R('<div class="mt-6" data-v-df658b55><h6 class="font-medium text-gray-900 mb-3" data-v-df658b55>Build Options</h6><div class="space-y-3" data-v-df658b55><div class="flex items-center" data-v-df658b55><input id="clean-build" type="checkbox" checked class="h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded" data-v-df658b55><label for="clean-build" class="ml-2 text-sm text-gray-700" data-v-df658b55> Clean build (remove previous artifacts) </label></div><div class="flex items-center" data-v-df658b55><input id="optimize-build" type="checkbox" checked class="h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded" data-v-df658b55><label for="optimize-build" class="ml-2 text-sm text-gray-700" data-v-df658b55> Optimize for size and performance </label></div><div class="flex items-center" data-v-df658b55><input id="include-debug" type="checkbox" class="h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded" data-v-df658b55><label for="include-debug" class="ml-2 text-sm text-gray-700" data-v-df658b55> Include debug symbols </label></div></div></div>',1))])):(s(),l("div",Se,t[15]||(t[15]=[R('<div class="text-gray-400 mb-4" data-v-df658b55><svg class="mx-auto h-12 w-12" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-df658b55><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" data-v-df658b55></path></svg></div><h4 class="text-lg font-medium text-gray-900 mb-2" data-v-df658b55>Select a Build Type</h4><p class="text-gray-500" data-v-df658b55>Choose a build type above to see detailed configuration options.</p>',3)])))]))}},Me=j(Ce,[["__scopeId","data-v-df658b55"]]),Te={class:"build-progress"},De={class:"card p-6"},ze={class:"flex items-center justify-between mb-6"},Ie={class:"text-xl font-semibold text-gray-900"},Ae={class:"text-gray-600"},Le={class:"text-right"},Oe={class:"text-lg font-mono font-semibold text-gray-900"},Pe={class:"mb-6"},Re={class:"flex justify-between text-sm text-gray-600 mb-2"},je={class:"w-full bg-gray-200 rounded-full h-3"},Fe={class:"flex items-center"},Ge={class:"mr-3"},Ve={key:0,class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"},He={key:1,class:"text-green-600 text-xl"},qe={key:2,class:"text-red-600 text-xl"},Ee={key:3,class:"text-yellow-600 text-xl"},Ne={key:0},Ke={key:1},Ze={key:2},Ue={key:3},Je={key:0},We={key:1},Ye={key:2},Qe={key:3},Xe={class:"mb-6"},et={class:"space-y-3"},tt={class:"flex-shrink-0"},st={class:"mb-6"},lt={class:"bg-gray-900 rounded-lg p-4 h-64 overflow-y-auto build-logs"},at={class:"text-gray-500"},it={key:0,class:"text-gray-400 text-sm"},nt={class:"flex justify-end space-x-4"},rt={__name:"BuildProgress",props:{build:{type:Object,required:!0}},emits:["complete","cancel"],setup(B,{emit:$}){const g=B,y=$,b=x(0),n=x(0),w=x([]),c=x(!1),d=x(!1),t=x(null),u=`ws://${window.location.host}/ws/build`,{isConnected:I,connect:A,send:L,on:C}=Y(u,{autoConnect:!1,reconnectInterval:3e3,maxReconnectAttempts:5}),f=x([{id:1,name:"Initializing build environment",status:"pending"},{id:2,name:"Downloading base images",status:"pending"},{id:3,name:"Installing dependencies",status:"pending"},{id:4,name:"Building OpenJourney Server",status:"pending"},{id:5,name:"Configuring system packages",status:"pending"},{id:6,name:"Creating installer image",status:"pending"},{id:7,name:"Running tests and validation",status:"pending"},{id:8,name:"Finalizing and packaging",status:"pending"}]),O={amd64:"AMD64 Installer",rpi64:"Raspberry Pi 64-bit",docker:"Docker Images",kubernetes:"Kubernetes Manifests"},v=x(0);let r=null,m=null;const M=o=>{const a=Math.floor(o/60),h=o%60;return`${a}:${h.toString().padStart(2,"0")}`},H=o=>{switch(o){case"completed":return"âœ…";case"running":return"ðŸ”„";case"failed":return"âŒ";default:return"â³"}},F=o=>{switch(o){case"completed":return"text-green-600";case"running":return"text-blue-600 font-medium";case"failed":return"text-red-600";default:return"text-gray-500"}},q=o=>{switch(o){case"error":return"text-red-400";case"warning":return"text-yellow-400";case"success":return"text-green-400";case"info":return"text-blue-400";default:return"text-gray-300"}},T=(o,a)=>{w.value.push({id:Date.now()+Math.random(),timestamp:new Date().toLocaleTimeString(),level:o,message:a}),setTimeout(()=>{const h=document.querySelector(".build-logs");h&&(h.scrollTop=h.scrollHeight)},100)},E=async()=>{r=Date.now();try{I.value||await A();const o=g.build.id;L({type:"start_build",buildId:o,buildType:g.build.type,config:{clean:!0,optimize:!0}}),N(o)}catch(o){console.error("Failed to start build:",o),t.value=o.message,T("error",`Failed to start build: ${o.message}`),y("complete",{status:"failed",endTime:new Date().toISOString(),duration:M(Math.floor((Date.now()-r)/1e3)),error:o.message})}},N=o=>{C("build_progress",a=>{if(a.buildId===o&&(b.value=a.progress,a.currentStep&&a.currentStep<=f.value.length)){const h=f.value[a.currentStep-1];h&&(h.status=a.stepStatus||"running",n.value=a.currentStep)}}),C("build_log",a=>{a.buildId===o&&T(a.level||"info",a.message)}),C("build_complete",a=>{if(a.buildId===o){c.value=!0,b.value=100,T("success","Build completed successfully!"),f.value.forEach(p=>{p.status!=="completed"&&(p.status="completed")});const h={status:"completed",endTime:new Date().toISOString(),duration:M(Math.floor((Date.now()-r)/1e3)),size:a.size||(g.build.type==="amd64"?"2.1 GB":g.build.type==="rpi64"?"1.8 GB":g.build.type==="docker"?"800 MB":"50 MB")};setTimeout(()=>{y("complete",h)},2e3)}}),C("build_error",a=>{a.buildId===o&&(t.value=a.error,T("error",`Build failed: ${a.error}`),n.value>0&&n.value<=f.value.length&&(f.value[n.value-1].status="failed"),y("complete",{status:"failed",endTime:new Date().toISOString(),duration:M(Math.floor((Date.now()-r)/1e3)),error:a.error}))}),C("build_cancelled",a=>{a.buildId===o&&(d.value=!0,T("warning","Build cancelled"),n.value>0&&n.value<=f.value.length&&(f.value[n.value-1].status="cancelled"))})},K=()=>{d.value=!0,T("warning","Build cancelled by user"),n.value>0&&n.value<=f.value.length&&(f.value[n.value-1].status="cancelled"),y("cancel")};return V(()=>{m=setInterval(()=>{r&&!c.value&&!d.value&&(v.value=Math.floor((Date.now()-r)/1e3))},1e3),E()}),U(()=>{m&&clearInterval(m)}),(o,a)=>{var h;return s(),l("div",Te,[e("div",De,[e("div",ze,[e("div",null,[e("h2",Ie," Building "+i(O[B.build.type]),1),e("p",Ae,"Build ID: "+i(B.build.id),1)]),e("div",Le,[a[2]||(a[2]=e("div",{class:"text-sm text-gray-500"},"Elapsed Time",-1)),e("div",Oe,i(M(v.value)),1)])]),e("div",Pe,[e("div",Re,[a[3]||(a[3]=e("span",null,"Overall Progress",-1)),e("span",null,i(b.value)+"%",1)]),e("div",je,[e("div",{class:k(["bg-blue-600 h-3 rounded-full transition-all duration-500",{"bg-green-600":c.value,"bg-red-600":t.value,"bg-yellow-600":d.value}]),style:J({width:`${b.value}%`})},null,6)])]),e("div",{class:k(["mb-6 p-4 rounded-lg",{"bg-blue-50":!c.value&&!t.value&&!d.value,"bg-green-50":c.value,"bg-red-50":t.value,"bg-yellow-50":d.value}])},[e("div",Fe,[e("div",Ge,[!c.value&&!t.value&&!d.value?(s(),l("div",Ve)):c.value?(s(),l("div",He,"âœ…")):t.value?(s(),l("div",qe,"âŒ")):d.value?(s(),l("div",Ee,"â¹ï¸")):_("",!0)]),e("div",null,[e("div",{class:k(["font-medium",{"text-blue-900":!c.value&&!t.value&&!d.value,"text-green-900":c.value,"text-red-900":t.value,"text-yellow-900":d.value}])},[!c.value&&!t.value&&!d.value?(s(),l("span",Ne,"Building in progress...")):c.value?(s(),l("span",Ke,"Build completed successfully!")):t.value?(s(),l("span",Ze,"Build failed")):d.value?(s(),l("span",Ue,"Build cancelled")):_("",!0)],2),e("div",{class:k(["text-sm",{"text-blue-700":!c.value&&!t.value&&!d.value,"text-green-700":c.value,"text-red-700":t.value,"text-yellow-700":d.value}])},[n.value>0&&n.value<=f.value.length?(s(),l("span",Je," Step "+i(n.value)+" of "+i(f.value.length)+": "+i((h=f.value[n.value-1])==null?void 0:h.name),1)):c.value?(s(),l("span",We,"All build steps completed")):t.value?(s(),l("span",Ye,i(t.value),1)):d.value?(s(),l("span",Qe,"Build was cancelled")):_("",!0)],2)])])],2),e("div",Xe,[a[4]||(a[4]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Build Steps",-1)),e("div",et,[(s(!0),l(D,null,z(f.value,(p,Vt)=>(s(),l("div",{key:p.id,class:"flex items-center space-x-3"},[e("div",tt,[e("div",{class:k(["w-6 h-6 rounded-full flex items-center justify-center text-sm",{"bg-green-100":p.status==="completed","bg-blue-100":p.status==="running","bg-red-100":p.status==="failed","bg-gray-100":p.status==="pending"}])},[e("span",{class:k(F(p.status))},i(H(p.status)),3)],2)]),e("span",{class:k(F(p.status))},i(p.name),3)]))),128))])]),e("div",st,[a[5]||(a[5]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Build Logs",-1)),e("div",lt,[(s(!0),l(D,null,z(w.value,p=>(s(),l("div",{key:p.id,class:"text-sm font-mono mb-1"},[e("span",at,i(p.timestamp),1),e("span",{class:k(["mx-2",q(p.level)])},i(p.message),3)]))),128)),w.value.length===0?(s(),l("div",it," Waiting for build to start... ")):_("",!0)])]),e("div",nt,[!c.value&&!t.value&&!d.value?(s(),l("button",{key:0,onClick:K,class:"btn btn-secondary"}," Cancel Build ")):_("",!0),c.value?(s(),l("button",{key:1,class:"btn btn-primary",onClick:a[0]||(a[0]=p=>o.$emit("complete",{status:"completed"}))}," View Build Results ")):_("",!0),t.value?(s(),l("button",{key:2,class:"btn btn-secondary",onClick:a[1]||(a[1]=p=>o.$emit("complete",{status:"failed"}))}," Back to Build Selection ")):_("",!0)])])])}}},ot=j(rt,[["__scopeId","data-v-82aad5e9"]]),dt={class:"build-manager"},ut={key:0,class:"mb-8"},ct={key:1,class:"mb-8"},mt={class:"card p-6"},pt={class:"mt-6 flex justify-end"},vt=["disabled"],gt={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},ft={class:"card p-6 text-center"},xt={class:"text-3xl font-bold text-blue-600 mb-2"},yt={class:"card p-6 text-center"},bt={class:"text-3xl font-bold text-red-600 mb-2"},ht={class:"card p-6 text-center"},_t={class:"text-3xl font-bold text-green-600 mb-2"},wt={class:"card p-6 text-center"},kt={class:"text-3xl font-bold text-purple-600 mb-2"},Bt={class:"card"},$t={class:"overflow-x-auto"},St={class:"min-w-full divide-y divide-gray-200"},Ct={class:"bg-white divide-y divide-gray-200"},Mt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Tt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Dt={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},zt={class:"px-6 py-4 whitespace-nowrap"},It={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},At={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Lt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ot={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Pt=["onClick"],Rt=["onClick"],jt={key:0,class:"p-8 text-center"},Ft={__name:"BuildManager",setup(B){const $=Z(),g=x(""),y=x(!1),b=x(!1),n=x(null),w=x([{id:"build-001",type:"amd64",status:"completed",startTime:"2024-07-19T10:30:00Z",endTime:"2024-07-19T10:45:00Z",duration:"15m 23s",size:"2.1 GB"},{id:"build-002",type:"rpi64",status:"failed",startTime:"2024-07-19T09:15:00Z",endTime:"2024-07-19T09:22:00Z",duration:"7m 12s",error:"Package dependency conflict"},{id:"build-003",type:"amd64",status:"completed",startTime:"2024-07-18T16:20:00Z",endTime:"2024-07-18T16:38:00Z",duration:"18m 45s",size:"2.0 GB"}]),c=P(()=>w.value.slice(0,5)),d=P(()=>g.value&&!y.value),t=v=>{g.value=v},u=async()=>{if(d.value){y.value=!0,b.value=!0,n.value={id:`build-${Date.now()}`,type:g.value,status:"running",startTime:new Date().toISOString(),progress:0};try{await $.startBuild({type:g.value,options:{clean:!0,optimize:!0}})}catch(v){console.error("Build failed to start:",v),n.value.status="failed",n.value.error=v.message,y.value=!1}}},I=v=>{y.value=!1,n.value={...n.value,...v},w.value.unshift(n.value),setTimeout(()=>{b.value=!1,n.value=null,g.value=""},3e3)},A=()=>{n.value&&$.cancelBuild(n.value.id),y.value=!1,b.value=!1,n.value=null},L=v=>{switch(v){case"completed":return"âœ…";case"failed":return"âŒ";case"running":return"ðŸ”„";case"cancelled":return"â¹ï¸";default:return"â³"}},C=v=>{switch(v){case"completed":return"text-green-600 bg-green-50";case"failed":return"text-red-600 bg-red-50";case"running":return"text-blue-600 bg-blue-50";case"cancelled":return"text-gray-600 bg-gray-50";default:return"text-yellow-600 bg-yellow-50"}},f=v=>new Date(v).toLocaleString(),O=v=>{console.log(`Downloading build ${v.id}`)};return V(()=>{$.loadBuildHistory()}),(v,r)=>(s(),l("div",dt,[r[9]||(r[9]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Build Management"),e("p",{class:"text-gray-600"}," Create and manage OpenJourney Server builds for different architectures and platforms. ")],-1)),b.value?(s(),l("div",ut,[G(ot,{build:n.value,onComplete:I,onCancel:A},null,8,["build"])])):_("",!0),b.value?_("",!0):(s(),l("div",ct,[e("div",mt,[r[1]||(r[1]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Start New Build",-1)),G(Me,{selected:g.value,onSelect:t},null,8,["selected"]),e("div",pt,[e("button",{onClick:u,disabled:!d.value,class:"btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed"},r[0]||(r[0]=[e("span",{class:"flex items-center"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})]),S(" Start Build ")],-1)]),8,vt)])])])),e("div",gt,[e("div",ft,[e("div",xt,i(w.value.filter(m=>m.status==="completed").length),1),r[2]||(r[2]=e("div",{class:"text-sm text-gray-600"},"Successful Builds",-1))]),e("div",yt,[e("div",bt,i(w.value.filter(m=>m.status==="failed").length),1),r[3]||(r[3]=e("div",{class:"text-sm text-gray-600"},"Failed Builds",-1))]),e("div",ht,[e("div",_t,i(w.value.length),1),r[4]||(r[4]=e("div",{class:"text-sm text-gray-600"},"Total Builds",-1))]),e("div",wt,[e("div",kt,i(y.value?"1":"0"),1),r[5]||(r[5]=e("div",{class:"text-sm text-gray-600"},"Active Builds",-1))])]),e("div",Bt,[r[8]||(r[8]=e("div",{class:"p-6 border-b border-gray-200"},[e("h2",{class:"text-xl font-semibold text-gray-900"},"Build History")],-1)),e("div",$t,[e("table",St,[r[6]||(r[6]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Build ID "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Type "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Started "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Duration "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Size "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",Ct,[(s(!0),l(D,null,z(c.value,m=>(s(),l("tr",{key:m.id,class:"hover:bg-gray-50"},[e("td",Mt,i(m.id),1),e("td",Tt,[e("span",Dt,i(m.type.toUpperCase()),1)]),e("td",zt,[e("span",{class:k(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",C(m.status)])},i(L(m.status))+" "+i(m.status),3)]),e("td",It,i(f(m.startTime)),1),e("td",At,i(m.duration||"-"),1),e("td",Lt,i(m.size||"-"),1),e("td",Ot,[m.status==="completed"?(s(),l("button",{key:0,onClick:M=>O(m),class:"text-primary-600 hover:text-primary-900 mr-3"}," Download ",8,Pt)):_("",!0),e("button",{class:"text-gray-400 hover:text-gray-600",onClick:M=>console.log("View logs for",m.id)}," Logs ",8,Rt)])]))),128))])])]),w.value.length===0?(s(),l("div",jt,r[7]||(r[7]=[R('<div class="text-gray-400 mb-4" data-v-f9e03538><svg class="mx-auto h-12 w-12" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f9e03538><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" data-v-f9e03538></path></svg></div><h3 class="text-lg font-medium text-gray-900 mb-2" data-v-f9e03538>No builds yet</h3><p class="text-gray-500" data-v-f9e03538>Start your first build to see it appear here.</p>',3)]))):_("",!0)])]))}},Gt=j(Ft,[["__scopeId","data-v-f9e03538"]]),Kt={__name:"BuildView",setup(B){return($,g)=>(s(),W(Gt))}};export{Kt as default};
